<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeyondChats Article Manager - AI Content Enhancement</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    
    <!-- React 18 -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Smooth animations */
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card-hover {
            transition: all 0.2s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        /* Scrollbar styling */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* Text truncation */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Loading spinner */
        @keyframes spin { to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        /**
         * =========================================================================
         * BEYONDCHATS ARTICLE MANAGER - React Frontend
         * =========================================================================
         * 
         * Phase 3 of the BeyondChats Assignment
         * 
         * FEATURES:
         * - Fetches articles from Laravel API
         * - Displays original and AI-enhanced articles
         * - Side-by-side comparison view
         * - Filter by status (All / Enhanced / Pending)
         * - Responsive, professional UI
         * 
         * CONFIGURATION:
         * - Set USE_MOCK_DATA = false when Laravel API is running
         * - Update API_BASE_URL if using different port
         */

        // =======================================================================
        // CONFIGURATION
        // =======================================================================

        // Set to false when your Laravel backend is running
        const USE_MOCK_DATA = true;

        // Laravel API URL - change if using different port
        const API_BASE_URL = 'http://localhost:8000/api';

        // =======================================================================
        // MOCK DATA - Simulates BeyondChats articles
        // =======================================================================

        const MOCK_ARTICLES = [
            {
                id: 1,
                title: "6 Problems BeyondChats Helps Healthcare Providers Solve",
                slug: "the-future-of-healthcare-is-ai",
                content: "Picture this: A patient lands on your hospital‚Äôs website, they have a medical issue, and they want to know what fix they need / how to get started / what should they do now. They browse around, check a few pages, but still don‚Äôt have a clear answer.\n\nThat‚Äôs the power of BeyondChats‚Äô AI chatbot‚Äîworking behind the scenes to engage visitors, clear doubts, and increase appointments without adding to your team‚Äôs workload.\n\nKey Takeaways:\n‚Ä¢ Missed Appointments = Lost Revenue\n‚Ä¢ Patients Demand 24/7 Access\n‚Ä¢ Smart Targeting = Higher Conversions",
                original_url: "https://beyondchats.com/blogs/the-future-of-healthcare-is-ai/",
                is_ai_updated: true,
                ai_content: "# 6 Problems BeyondChats Helps Healthcare Providers Solve\n\nHealthcare providers often face significant challenges that lead to lost revenue and patient dissatisfaction. AI chatbots offer a powerful solution to these issues.\n\n## Key Challenges & AI Solutions\n\n### 1. Missed Appointments\nPatients often leave websites if they can't find immediate answers. **BeyondChats** engages visitors instantly, guiding them to book appointments and reducing bounce rates.\n\n### 2. 24/7 Availability Demand\nIllness doesn't follow business hours. AI chatbots provide round-the-clock support, answering queries and scheduling consultations even when staff is unavailable.\n\n### 3. Personalization at Scale\nGeneric responses frustrate patients. Advanced AI delivers personalized interactions based on user behavior and specific medical needs, improving patient trust.\n\n---\n\n## References\n\n1. [https://www.healthcareitnews.com/news/ai-healthcare-consumer-adoption](https://www.healthcareitnews.com/news/ai-healthcare-consumer-adoption)\n2. [https://www.forbes.com/sites/forbestechcouncil/2023/05/15/the-role-of-ai-in-healthcare/](https://www.forbes.com/sites/forbestechcouncil/2023/05/15/the-role-of-ai-in-healthcare/)\n\n---\n\n*This article has been enhanced using AI, incorporating industry insights.*",
                citations: [
                    "https://www.healthcareitnews.com/news/ai-healthcare-consumer-adoption",
                    "https://www.forbes.com/sites/forbestechcouncil/2023/05/15/the-role-of-ai-in-healthcare/"
                ],
                scraped_at: "2024-01-15T10:30:00Z",
                created_at: "2024-01-15T10:30:00Z",
                updated_at: "2024-01-16T14:20:00Z"
            },
            {
                id: 2,
                title: "Top 10 Lead Generation Tools Every Business Should Use",
                slug: "10-lead-generation-tools",
                content: "Welcome to the ultimate guide on lead generation tools, where we‚Äôll explore the world of top-notch tools that can catapult your business to new heights.\n\n1. HubSpot: Where Your Leads Find a Home\nHubSpot is more than just a CRM. It is a comprehensive platform that seamlessly integrates lead management, marketing automation, and sales acceleration tools.\n\n2. Intercom: Conversations that Convert\nIntercom redefines how businesses communicate with their audience. Beyond traditional chat tools, Intercom introduces a suite for customer engagement.",
                original_url: "https://beyondchats.com/blogs/10-lead-generation-tools/",
                is_ai_updated: false,
                ai_content: null,
                citations: [],
                scraped_at: "2024-01-10T09:15:00Z",
                created_at: "2024-01-10T09:15:00Z",
                updated_at: "2024-01-10T09:15:00Z"
            },
            {
                id: 3,
                title: "Top 30+ Generative AI Tools For Enterprises And Creatives",
                slug: "generative-ai-tools",
                content: "Generative AI is no longer a distant dream‚Äîit‚Äôs here and transforming the way we create, imagine, and innovate. From producing mind-boggling images to crafting unique content, these AI tools have opened up possibilities that were once unimaginable.\n\nText Generation Tools:\n‚Ä¢ OpenAI GPT-5\n‚Ä¢ ChatGPT\n‚Ä¢ Jasper\n‚Ä¢ Writesonic\n\nImage Generation Tools:\n‚Ä¢ DALL-E-2\n‚Ä¢ Midjourney\n‚Ä¢ Stable Diffusion",
                original_url: "https://beyondchats.com/blogs/generative-ai-tools/",
                is_ai_updated: true,
                ai_content: "# Top 30+ Generative AI Tools For Enterprises And Creatives\n\nGenerative AI is revolutionizing industries by enabling automated content creation.\n\n## Leading Text Generation Tools\n\n### 1. OpenAI GPT-5\nThe latest iteration of the GPT series offers unprecedented natural language understanding and generation capabilities.\n\n### 2. Jasper\nA powerful tool for marketers, Jasper helps create high-converting copy in seconds.\n\n## Leading Image Generation Tools\n\n### 1. DALL-E-2\nCreates realistic images and art from a description in natural language.\n\n### 2. Midjourney\nKnown for its artistic style and high-quality image synthesis.\n\n---\n\n## References\n\n1. [https://openai.com/](https://openai.com/)\n2. [https://www.midjourney.com/](https://www.midjourney.com/)\n\n---\n\n*This article has been enhanced using AI, incorporating industry insights.*",
                citations: [
                    "https://openai.com/",
                    "https://www.midjourney.com/"
                ],
                scraped_at: "2024-01-15T12:00:00Z",
                created_at: "2024-01-15T12:00:00Z",
                updated_at: "2024-01-16T15:00:00Z"
            },
            {
                id: 4,
                title: "A Complete AI Solution For Doctors: Beyondchats",
                slug: "a-complete-ai-solution-for-doctors-beyondchats",
                content: "In a recent LinkedIn post by Kunal Bahl (CEO, Snapdeal) , he said ‚ÄúIn less than 5 yrs, AI will be our primary medical consultant, with doctors serving as the secondary opinion‚Äîflipping the current norm. ‚Äú\n\nWhile that is not a reality you should worry about right now! But then too Dr. Malpani wanted to explore AI for his clinic and ended up with a complete solution w beyondchats.\n\nIt‚Äôs been over a year and beyondchats has become his go-to AI partner helping him : Make communication smoother for patients. Improve ad performance without breaking healthcare advertising rules.",
                original_url: "https://beyondchats.com/blogs/a-complete-ai-solution-for-doctors-beyondchats/",
                is_ai_updated: true,
                ai_content: "# A Complete AI Solution For Doctors: Beyondchats\n\nAI is rapidly becoming an integral part of medical consultancy. BeyondChats provides a comprehensive solution for clinics.\n\n## Case Study: Dr. Malpani's Clinic\n\n### Smooth Communication\nPatients can now communicate effortlessly in their preferred language, breaking down barriers to healthcare access.\n\n### Improved Ad Performance\nAI helps optimize ad spend by targeting the right keywords and understanding patient intent, all while adhering to strict healthcare advertising regulations.\n\n---\n\n## References\n\n1. [https://www.healthcareitnews.com/](https://www.healthcareitnews.com/)\n\n---\n\n*This article has been enhanced using AI, incorporating industry insights.*",
                citations: [
                    "https://www.healthcareitnews.com/"
                ],
                scraped_at: "2024-01-15T13:00:00Z",
                created_at: "2024-01-15T13:00:00Z",
                updated_at: "2024-01-16T16:00:00Z"
            },
            {
                id: 5,
                title: "Why We Are Building Yet Another AI Chatbot",
                slug: "why-we-are-building-yet-another-ai-chatbot",
                content: "When you read about us for the first time, your first thought might be ‚ÄúNot another AI chatbot startup please!‚Äù ‚Äî and we get it. We know the feeling! We get it a lot. And until 3 months ago, we also felt frustrated seeing so many chatbot companies coming up everyday with ‚ÄúAI‚Äù in their domain name!\n\nDuring these three months, we talked to 50+ doctors and clinic MDs from all over India. And we realized something weird: Despite there being 1000s of chatbots out there, rarely any hospital or clinic wanted to integrate an ai chatbot! Many had in fact integrated a chatbot, but there experience was always terrible. Zero REAL value delivered.",
                original_url: "https://beyondchats.com/blogs/why-we-are-building-yet-another-ai-chatbot/",
                is_ai_updated: false,
                ai_content: null,
                citations: [],
                scraped_at: "2024-01-15T14:00:00Z",
                created_at: "2024-01-15T14:00:00Z",
                updated_at: "2024-01-16T17:00:00Z"
            },
            {
                id: 6,
                title: "Google Ads: Are you wasting your money on clicks?",
                slug: "google-ads-are-you-wasting-your-money-on-clicks",
                content: "Most businesses assume that if their ads are leading to high traffic, that means they are successful. But traffic without conversion is just vanity metrics.\n\nAre you paying for clicks that never convert? In the competitive world of digital advertising, efficient spending is key. BeyondChats helps you identify which keywords bring in real patients or customers, eliminating unnecessary spending on non-converting search terms.",
                original_url: "https://beyondchats.com/blogs/google-ads-are-you-wasting-your-money-on-clicks/",
                is_ai_updated: false,
                ai_content: null,
                citations: [],
                scraped_at: "2024-01-15T15:00:00Z",
                created_at: "2024-01-15T15:00:00Z",
                updated_at: "2024-01-16T18:00:00Z"
            }
        ];

        // =======================================================================
        // API FUNCTIONS
        // =======================================================================

        async function fetchArticles() {
            if (USE_MOCK_DATA) {
                await new Promise(r => setTimeout(r, 600)); // Simulate network delay
                return MOCK_ARTICLES;
            }

            const response = await fetch(`${API_BASE_URL}/articles`);
            if (!response.ok) throw new Error('Failed to fetch articles');
            const data = await response.json();
            return data.data || [];
        }

        // =======================================================================
        // UTILITY FUNCTIONS
        // =======================================================================

        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            return new Date(dateString).toLocaleDateString('en-US', {
                year: 'numeric', month: 'short', day: 'numeric'
            });
        }

        function countWords(text) {
            if (!text) return 0;
            return text.trim().split(/\s+/).filter(w => w.length > 0).length;
        }

        // =======================================================================
        // COMPONENTS
        // =======================================================================

        // Header Component
        function Header({ stats }) {
            return (
                <header className="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-700 text-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                        <div className="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                            <div>
                                <div className="flex items-center gap-3">
                                    <span className="text-3xl">ü§ñ</span>
                                    <div>
                                        <h1 className="text-2xl font-bold">BeyondChats Article Manager</h1>
                                        <p className="text-blue-200 text-sm">AI-Enhanced Content Platform</p>
                                    </div>
                                </div>
                            </div>
                            
                            {stats && (
                                <div className="flex gap-3">
                                    <div className="bg-white/10 backdrop-blur rounded-lg px-4 py-2 text-center">
                                        <div className="text-2xl font-bold">{stats.total}</div>
                                        <div className="text-xs text-blue-200">Total</div>
                                    </div>
                                    <div className="bg-green-500/20 border border-green-400/30 rounded-lg px-4 py-2 text-center">
                                        <div className="text-2xl font-bold text-green-300">{stats.enhanced}</div>
                                        <div className="text-xs text-green-200">Enhanced</div>
                                    </div>
                                    <div className="bg-yellow-500/20 border border-yellow-400/30 rounded-lg px-4 py-2 text-center">
                                        <div className="text-2xl font-bold text-yellow-300">{stats.pending}</div>
                                        <div className="text-xs text-yellow-200">Pending</div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </header>
            );
        }

        // Loading Component
        function Loading() {
            return (
                <div className="flex flex-col items-center justify-center py-16">
                    <div className="w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"></div>
                    <p className="mt-4 text-gray-600">Loading articles from API...</p>
                </div>
            );
        }

        // Error Component
        function Error({ message, onRetry }) {
            return (
                <div className="bg-red-50 border border-red-200 rounded-xl p-6 text-center max-w-md mx-auto">
                    <div className="text-4xl mb-3">‚ö†Ô∏è</div>
                    <h3 className="font-bold text-red-800">Connection Error</h3>
                    <p className="text-red-600 text-sm mt-2">{message}</p>
                    <button onClick={onRetry} className="mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                        Try Again
                    </button>
                </div>
            );
        }

        // Article Card Component
        function ArticleCard({ article, isSelected, onClick }) {
            return (
                <div
                    onClick={onClick}
                    className={`card-hover cursor-pointer p-4 rounded-lg border-2 ${
                        isSelected 
                            ? 'border-indigo-500 bg-indigo-50' 
                            : 'border-gray-200 bg-white hover:border-indigo-300'
                    }`}
                >
                    <div className="flex items-start justify-between gap-2">
                        <h3 className="font-semibold text-gray-900 line-clamp-2 text-sm flex-1">
                            {article.title}
                        </h3>
                        <span className={`shrink-0 px-2 py-0.5 rounded text-xs font-bold ${
                            article.is_ai_updated 
                                ? 'bg-green-100 text-green-700' 
                                : 'bg-yellow-100 text-yellow-700'
                        }`}>
                            {article.is_ai_updated ? '‚ú® AI' : '‚è≥'}
                        </span>
                    </div>
                    <div className="mt-2 text-xs text-gray-500 flex gap-3">
                        <span>üìÖ {formatDate(article.scraped_at)}</span>
                        <span>üìù {countWords(article.content)} words</span>
                    </div>
                </div>
            );
        }

        // Content Panel Component (for side-by-side view)
        function ContentPanel({ title, icon, content, type, citations, isEmpty }) {
            if (isEmpty) {
                return (
                    <div className="bg-gray-50 rounded-xl border-2 border-dashed border-gray-300 p-8 flex flex-col items-center justify-center h-full min-h-[300px]">
                        <span className="text-5xl mb-3">ü§ñ</span>
                        <h4 className="font-medium text-gray-500">AI Version Pending</h4>
                        <p className="text-gray-400 text-sm mt-2 text-center">
                            Run the Node.js AI script to generate enhanced content
                        </p>
                    </div>
                );
            }

            const isAI = type === 'ai';
            
            return (
                <div className={`rounded-xl border-2 h-full flex flex-col ${
                    isAI ? 'border-green-200 bg-green-50/30' : 'border-gray-200 bg-white'
                }`}>
                    {/* Header */}
                    <div className={`px-4 py-3 border-b flex items-center justify-between ${
                        isAI ? 'bg-green-100/50 border-green-200' : 'bg-gray-50 border-gray-200'
                    }`}>
                        <div className="flex items-center gap-2">
                            <span className="text-lg">{icon}</span>
                            <h4 className="font-bold text-gray-800">{title}</h4>
                        </div>
                        <span className={`px-2 py-1 rounded text-xs font-medium ${
                            isAI ? 'bg-green-200 text-green-700' : 'bg-gray-200 text-gray-600'
                        }`}>
                            {countWords(content)} words
                        </span>
                    </div>
                    
                    {/* Content */}
                    <div className="p-4 flex-1 overflow-y-auto custom-scroll max-h-[500px]">
                        <div className="whitespace-pre-wrap text-gray-700 text-sm leading-relaxed">
                            {content}
                        </div>
                        
                        {/* Citations */}
                        {citations && citations.length > 0 && (
                            <div className="mt-4 pt-4 border-t border-green-200">
                                <h5 className="text-sm font-bold text-green-800 mb-2">üìö Citations</h5>
                                <ul className="space-y-1">
                                    {citations.map((url, i) => (
                                        <li key={i}>
                                            <a href={url} target="_blank" rel="noopener" 
                                               className="text-xs text-green-600 hover:underline break-all">
                                                {i + 1}. {url}
                                            </a>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Comparison Viewer Component
        function ComparisonViewer({ article }) {
            if (!article) {
                return (
                    <div className="bg-white rounded-xl border border-gray-200 p-12 text-center">
                        <span className="text-6xl">üìÑ</span>
                        <h3 className="text-xl font-bold text-gray-600 mt-4">Select an Article</h3>
                        <p className="text-gray-400 mt-2">Click an article to view and compare content</p>
                    </div>
                );
            }

            const hasAI = article.is_ai_updated && article.ai_content;
            const originalWords = countWords(article.content);
            const aiWords = countWords(article.ai_content);
            const improvement = hasAI ? Math.round(((aiWords / originalWords) - 1) * 100) : 0;

            return (
                <div className="space-y-4 fade-in">
                    {/* Article Header */}
                    <div className="bg-white rounded-xl border border-gray-200 p-5">
                        <div className="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-3">
                            <div className="flex-1">
                                <h2 className="text-xl font-bold text-gray-900">{article.title}</h2>
                                <div className="mt-2 flex flex-wrap gap-3 text-sm text-gray-500">
                                    <span>üïê Scraped: {formatDate(article.scraped_at)}</span>
                                    {hasAI && <span className="text-green-600">‚ú® Updated: {formatDate(article.updated_at)}</span>}
                                </div>
                                {article.original_url && (
                                    <a href={article.original_url} target="_blank" rel="noopener"
                                       className="inline-flex items-center gap-1 mt-2 text-sm text-indigo-600 hover:underline">
                                        üîó View on BeyondChats
                                    </a>
                                )}
                            </div>
                            <span className={`px-3 py-1.5 rounded-lg text-sm font-bold ${
                                hasAI 
                                    ? 'bg-green-100 text-green-700 border border-green-200' 
                                    : 'bg-yellow-100 text-yellow-700 border border-yellow-200'
                            }`}>
                                {hasAI ? '‚ú® AI Enhanced' : '‚è≥ Pending AI'}
                            </span>
                        </div>

                        {/* Stats */}
                        {hasAI && (
                            <div className="mt-4 pt-4 border-t border-gray-100 grid grid-cols-4 gap-3">
                                <div className="bg-gray-50 rounded-lg p-2 text-center">
                                    <div className="font-bold text-gray-700">{originalWords}</div>
                                    <div className="text-xs text-gray-500">Original</div>
                                </div>
                                <div className="bg-green-50 rounded-lg p-2 text-center">
                                    <div className="font-bold text-green-700">{aiWords}</div>
                                    <div className="text-xs text-green-600">Enhanced</div>
                                </div>
                                <div className="bg-blue-50 rounded-lg p-2 text-center">
                                    <div className="font-bold text-blue-700">+{improvement}%</div>
                                    <div className="text-xs text-blue-600">Growth</div>
                                </div>
                                <div className="bg-purple-50 rounded-lg p-2 text-center">
                                    <div className="font-bold text-purple-700">{article.citations?.length || 0}</div>
                                    <div className="text-xs text-purple-600">Citations</div>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Side-by-Side Comparison */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
                        <ContentPanel
                            title="Original Content"
                            icon="üìÑ"
                            content={article.content}
                            type="original"
                        />
                        <ContentPanel
                            title="AI Enhanced"
                            icon="‚ú®"
                            content={article.ai_content}
                            type="ai"
                            citations={article.citations}
                            isEmpty={!hasAI}
                        />
                    </div>
                </div>
            );
        }

        // Filter Bar Component
        function FilterBar({ filter, onFilterChange, count }) {
            const filters = [
                { value: 'all', label: 'All', icon: 'üìã' },
                { value: 'enhanced', label: 'Enhanced', icon: '‚ú®' },
                { value: 'pending', label: 'Pending', icon: '‚è≥' },
            ];

            return (
                <div className="bg-white rounded-lg border border-gray-200 p-3 mb-3">
                    <div className="flex items-center justify-between mb-2">
                        <span className="font-bold text-gray-700 text-sm">Filter</span>
                        <span className="text-xs text-gray-500">{count} articles</span>
                    </div>
                    <div className="flex gap-1">
                        {filters.map(f => (
                            <button
                                key={f.value}
                                onClick={() => onFilterChange(f.value)}
                                className={`flex-1 px-2 py-1.5 rounded text-xs font-medium transition ${
                                    filter === f.value
                                        ? 'bg-indigo-600 text-white'
                                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                }`}
                            >
                                {f.icon} {f.label}
                            </button>
                        ))}
                    </div>
                </div>
            );
        }

        // =======================================================================
        // MAIN APP
        // =======================================================================

        function App() {
            const [articles, setArticles] = React.useState([]);
            const [selected, setSelected] = React.useState(null);
            const [loading, setLoading] = React.useState(true);
            const [error, setError] = React.useState(null);
            const [filter, setFilter] = React.useState('all');

            // Fetch articles on mount
            React.useEffect(() => {
                loadArticles();
            }, []);

            async function loadArticles() {
                setLoading(true);
                setError(null);
                try {
                    const data = await fetchArticles();
                    setArticles(data);
                    // Auto-select first enhanced article
                    const enhanced = data.find(a => a.is_ai_updated);
                    setSelected(enhanced || data[0] || null);
                } catch (e) {
                    setError(e.message);
                } finally {
                    setLoading(false);
                }
            }

            // Calculate stats
            const stats = React.useMemo(() => ({
                total: articles.length,
                enhanced: articles.filter(a => a.is_ai_updated).length,
                pending: articles.filter(a => !a.is_ai_updated).length,
            }), [articles]);

            // Filter articles
            const filtered = React.useMemo(() => {
                switch (filter) {
                    case 'enhanced': return articles.filter(a => a.is_ai_updated);
                    case 'pending': return articles.filter(a => !a.is_ai_updated);
                    default: return articles;
                }
            }, [articles, filter]);

            return (
                <div className="min-h-screen bg-gray-50">
                    <Header stats={!loading && !error ? stats : null} />
                    
                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                        {loading ? (
                            <Loading />
                        ) : error ? (
                            <Error message={error} onRetry={loadArticles} />
                        ) : (
                            <div className="grid grid-cols-1 xl:grid-cols-4 gap-6">
                                {/* Sidebar - Article List */}
                                <div className="xl:col-span-1">
                                    <div className="sticky top-4">
                                        <FilterBar 
                                            filter={filter} 
                                            onFilterChange={setFilter}
                                            count={filtered.length}
                                        />
                                        <div className="space-y-2 max-h-[calc(100vh-220px)] overflow-y-auto custom-scroll pr-1">
                                            {filtered.length === 0 ? (
                                                <div className="bg-white rounded-lg border p-4 text-center text-gray-500">
                                                    No articles match filter
                                                </div>
                                            ) : (
                                                filtered.map(article => (
                                                    <ArticleCard
                                                        key={article.id}
                                                        article={article}
                                                        isSelected={selected?.id === article.id}
                                                        onClick={() => setSelected(article)}
                                                    />
                                                ))
                                            )}
                                        </div>
                                    </div>
                                </div>

                                {/* Main Content - Comparison View */}
                                <div className="xl:col-span-3">
                                    <ComparisonViewer article={selected} />
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    <footer className="bg-white border-t mt-8">
                        <div className="max-w-7xl mx-auto px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-2">
                            <div className="flex items-center gap-2">
                                {USE_MOCK_DATA && (
                                    <span className="bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs font-medium">
                                        üî∂ Demo Mode
                                    </span>
                                )}
                                <span className="text-gray-500 text-sm">BeyondChats Assignment</span>
                            </div>
                            <div className="flex gap-4 text-xs text-gray-400">
                                <span>‚úì Phase 1: Laravel</span>
                                <span>‚úì Phase 2: Node.js AI</span>
                                <span>‚úì Phase 3: React</span>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        // Mount React app
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
